Different Types of Java Test Runners in Cucumber

In Java, Cucumber itself does NOT execute tests.
It relies on test execution frameworks (runners).

1ï¸âƒ£ JUnit Runner (Most Common â€“ Legacy & Stable)
ğŸ“Œ When to Use

âœ” Existing JUnit-based projects
âœ” Simple Cucumber execution
âœ” Widely supported in CI tools

âœ… Runner Class
import org.junit.runner.RunWith;
import io.cucumber.junit.Cucumber;
import io.cucumber.junit.CucumberOptions;

@RunWith(Cucumber.class)
@CucumberOptions(
        features = "src/test/resources/features",
        glue = "stepDefinitions",
        plugin = {"pretty", "html:target/cucumber-report.html"},
        tags = "@smoke"
)
public class TestRunner {
}

ğŸ”¥ Pros

Simple

Mature

Huge community

âš ï¸ Cons

Limited parallel execution

JUnit 4 is aging

2ï¸âƒ£ JUnit 5 (Cucumber + JUnit Platform Engine)
ğŸ“Œ When to Use

âœ” Modern frameworks
âœ” Better IDE support
âœ” Flexible execution

âœ… Configuration (No Runner Class Needed)
pom.xml
<dependency>
    <groupId>io.cucumber</groupId>
    <artifactId>cucumber-junit-platform-engine</artifactId>
    <version>7.x.x</version>
</dependency>

junit-platform.properties
cucumber.features=src/test/resources/features
cucumber.glue=stepDefinitions
cucumber.plugin=pretty, html:target/cucumber.html
cucumber.filter.tags=@regression

ğŸ”¥ Pros

Cleaner setup

Works well with IDEs

Platform-based execution

âš ï¸ Cons

Slight learning curve

Less legacy support

3ï¸âƒ£ TestNG Runner (Most Powerful for Enterprise)
ğŸ“Œ When to Use

âœ” Parallel execution
âœ” Data-driven execution
âœ” Advanced CI/CD control

âœ… Runner Class
import io.cucumber.testng.AbstractTestNGCucumberTests;
import io.cucumber.testng.CucumberOptions;

@CucumberOptions(
        features = "src/test/resources/features",
        glue = "stepDefinitions",
        plugin = {"pretty", "json:target/cucumber.json"},
        tags = "@regression"
)
public class TestRunnerTestNG extends AbstractTestNGCucumberTests {

    @Override
    @DataProvider(parallel = true)
    public Object[][] scenarios() {
        return super.scenarios();
    }
}

ğŸ”¥ Pros

Parallel execution

Better reporting

Flexible configuration

âš ï¸ Cons

Slightly more setup

Overkill for small projects

4ï¸âƒ£ Cucumber CLI Runner (CI / Jenkins Friendly)
ğŸ“Œ When to Use

âœ” Jenkins pipelines
âœ” Dockerized execution
âœ” Headless execution

âœ… Command Line
mvn test \
 -Dcucumber.filter.tags="@smoke" \
 -Dcucumber.features=src/test/resources/features

ğŸ”¥ Pros

CI-friendly

No runner class needed

âš ï¸ Cons

Less IDE interaction

5ï¸âƒ£ Custom Runner (Enterprise Frameworks)
ğŸ“Œ When to Use

âœ” Multi-module frameworks
âœ” UI + API + DB in one run
âœ” Environment-based execution

Example
public class CustomCucumberRunner {

    public static void main(String[] args) {
        System.setProperty("cucumber.filter.tags", "@smoke");
        io.cucumber.core.cli.Main.run(args, Thread.currentThread().getContextClassLoader());
    }
}

ğŸ”¥ Pros

Full control

Highly extensible

âš ï¸ Cons

Maintenance overhead

ğŸ§  Runner Selection Cheat Sheet
Requirement	Best Runner
Simple execution	JUnit 4
Modern Java stack	JUnit 5
Parallel execution	TestNG
Jenkins / Docker	CLI
Enterprise control	Custom
ğŸ¯ Interview-Perfect Answer (Short)

â€œCucumber in Java can be executed using JUnit, TestNG, JUnit 5 platform engine, CLI, or custom runners. I prefer TestNG when parallel execution is needed, and JUnit 5 for modern lightweight setups. In CI pipelines, we often rely on CLI execution.â€

ğŸ Senior Takeaway

Runner choice defines scalability â€” not just execution.


-----------------------------------------------------------------------------------



CI Commands to trigger tests from in Cucumber - 

mvn test -Dcucumber.filter.tags="@smoke"
mvn test -Dcucumber.filter.tags="@smoke and @ui"
mvn test -Dcucumber.filter.tags="@regression and not @wip"


Triggering Different Cucumber Tests in CI (Senior-Level Guide)
ğŸ¯ Goal

Run different subsets of Cucumber tests (smoke, regression, sanity, UI, API, env-specific) without changing code.

1ï¸âƒ£ Using Cucumber Tags (MOST COMMON)
ğŸ”¹ Feature / Scenario Tags
@smoke @ui
Scenario: Login validation

ğŸ”¹ CI Command
mvn test -Dcucumber.filter.tags="@smoke"

ğŸ”¹ Multiple Tags
mvn test -Dcucumber.filter.tags="@smoke and @ui"
mvn test -Dcucumber.filter.tags="@regression and not @wip"

âœ… Best For

âœ” Smoke vs regression
âœ” UI vs API separation
âœ” Nightly vs PR builds

2ï¸âƒ£ Using Maven Profiles (Environment-Based Runs)
ğŸ”¹ pom.xml
<profiles>
    <profile>
        <id>smoke</id>
        <properties>
            <cucumber.tags>@smoke</cucumber.tags>
        </properties>
    </profile>

    <profile>
        <id>regression</id>
        <properties>
            <cucumber.tags>@regression</cucumber.tags>
        </properties>
    </profile>
</profiles>

ğŸ”¹ Cucumber Options
@CucumberOptions(
    tags = "${cucumber.tags}"
)

ğŸ”¹ CI Command
mvn test -Psmoke
mvn test -Pregression

âœ… Best For

âœ” Clean pipelines
âœ” Easy Jenkins configuration

3ï¸âƒ£ Using JUnit Platform Properties (JUnit 5)
ğŸ”¹ junit-platform.properties
cucumber.filter.tags=@smoke

ğŸ”¹ Override in CI
mvn test -Dcucumber.filter.tags="@regression"

âœ… Best For

âœ” JUnit 5 users
âœ” Central config management

4ï¸âƒ£ Using Feature Path Selection
ğŸ”¹ Directory Structure
features/
 â”œâ”€â”€ ui/
 â”œâ”€â”€ api/
 â””â”€â”€ db/

ğŸ”¹ CI Command
mvn test -Dcucumber.features=src/test/resources/features/ui

âœ… Best For

âœ” Clear separation
âœ” Large frameworks

5ï¸âƒ£ Using TestNG Runner Classes
ğŸ”¹ Separate Runners
@CucumberOptions(tags = "@smoke")
public class SmokeRunner extends AbstractTestNGCucumberTests {}

@CucumberOptions(tags = "@regression")
public class RegressionRunner extends AbstractTestNGCucumberTests {}

ğŸ”¹ CI Command
mvn test -Dtest=SmokeRunner
mvn test -Dtest=RegressionRunner

âœ… Best For

âœ” Explicit control
âœ” Legacy TestNG setups

6ï¸âƒ£ Jenkins Pipeline (Real-World Example)
ğŸ”¹ Jenkinsfile
pipeline {
    agent any

    parameters {
        choice(name: 'TEST_TYPE', choices: ['smoke', 'regression'], description: 'Test suite')
        choice(name: 'BROWSER', choices: ['chrome', 'edge'])
    }

    stages {
        stage('Run Tests') {
            steps {
                sh """
                mvn test \
                -Dcucumber.filter.tags=@${TEST_TYPE} \
                -Dbrowser=${BROWSER}
                """
            }
        }
    }
}

ğŸ”¥ Result

One pipeline

Multiple test sets

Zero code changes

7ï¸âƒ£ Triggering by Environment (DEV / QA / PROD)
ğŸ”¹ Command
mvn test -Denvironment=qa -Dcucumber.filter.tags="@smoke"

ğŸ”¹ Usage in Code
String env = System.getProperty("environment", "dev");

8ï¸âƒ£ Nightly vs PR Execution Strategy
Pipeline	Trigger
PR build	@smoke
Merge build	@sanity
Nightly	@regression
Release	@e2e
ğŸ¯ Interview-Perfect Answer (60 sec)

â€œIn CI, we trigger different Cucumber test sets using tags, Maven profiles, or runner selection. Most commonly, we use tags passed via system properties so Jenkins can control execution without code changes. This allows us to run smoke tests on PRs, regression nightly, and full suites before release.â€

ğŸ§  One-Line Memory Hook

CI should control test execution â€” not developers.

ğŸ Senior Takeaway

A mature QA pipeline:

Uses tags

Uses profiles

Avoids hardcoding

Is parameter-driven


------------------------------------------------------------------------------------------------------------------------------


Make sure to add the properties of the commands under properties section  and configuration inside maven-surefire-plugin section in order to run these commands - 

for Ex - Command - mvn test -Dbrowser=CHROME -Dexecution=LOCAL -Dcucumberfiltertags="@Datatable1"

Sure Fire Plugin - 
				<plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>3.2.5</version>
                    <configuration>
                        <parallel>methods</parallel>
                        <threadCount>2</threadCount>
                        <testFailureIgnore>true</testFailureIgnore>
                        <systemPropertyVariables>
                            <cucumberfiltertags>${cucumber.filter.tags}</cucumberfiltertags>
                        </systemPropertyVariables>
                    </configuration>
                </plugin>
				
 Properties - 
 
 <cucumber.filter.tags>@Datatable</cucumber.filter.tags>
 
 Then the commands will start working, similarly do it for feature files as well.
 
 
 
 ------------------------
 
 Basic Maven Commands
ğŸ”¹ Run all Cucumber tests
mvn test


or (recommended for CI):

mvn verify

âœ… 2ï¸âƒ£ Run Cucumber with TAGS (MOST USED)
âœ” Cucumber 5+ / 6 / 7 / 8 (Modern)
mvn test -Dcucumber.filter.tags="@Smoke"

âœ” Multiple tags
-Dcucumber.filter.tags="@Smoke and @Regression"

-Dcucumber.filter.tags="@Smoke or @Sanity"

-Dcucumber.filter.tags="not @WIP"

âœ” Older Cucumber (â‰¤ 4.x)
mvn test -Dcucumber.options="--tags @Smoke"

âœ… 3ï¸âƒ£ Run Specific Feature File
mvn test -Dcucumber.features=src/test/resources/features/login.feature


Multiple features:

-Dcucumber.features="features/login.feature,features/search.feature"

âœ… 4ï¸âƒ£ Run Specific Scenario (By Line Number)
mvn test -Dcucumber.features=src/test/resources/features/login.feature:12


ğŸ‘‰ Runs the scenario at line 12

âœ… 5ï¸âƒ£ Run with Specific Glue (Step Definitions)
mvn test -Dcucumber.glue=stepdefinitions


Multiple glue packages:

-Dcucumber.glue=steps,hooks

âœ… 6ï¸âƒ£ Control Output / Plugins from Maven
JSON report
-Dcucumber.plugin="json:target/cucumber.json"

HTML + Pretty
-Dcucumber.plugin="pretty,html:target/cucumber-html"

âœ… 7ï¸âƒ£ Dry Run (Check Step Definitions Only)
mvn test -Dcucumber.execution.dry-run=true


âœ” Validates mapping
âŒ Does not execute tests

âœ… 8ï¸âƒ£ Fail Fast (Stop on First Failure)
mvn test -Dcucumber.execution.fail-fast=true

âœ… 9ï¸âƒ£ Parallel Execution (CLI Controlled)
-Dcucumber.execution.parallel.enabled=true

-Dcucumber.execution.parallel.config.strategy=fixed

-Dcucumber.execution.parallel.config.fixed.parallelism=4


Full example:

mvn test ^
 -Dcucumber.execution.parallel.enabled=true ^
 -Dcucumber.execution.parallel.config.strategy=fixed ^
 -Dcucumber.execution.parallel.config.fixed.parallelism=4

âœ… ğŸ”Ÿ Filter by Scenario Name
-Dcucumber.filter.name="Login"


Regex supported:

-Dcucumber.filter.name=".*Payment.*"

âœ… 1ï¸âƒ£1ï¸âƒ£ Run with Environment Variables (CI Friendly)
mvn test ^
 -Dbrowser=CHROME ^
 -Dexecution=GRID ^
 -DgridUrl=http://localhost:4444/wd/hub

âœ… 1ï¸âƒ£2ï¸âƒ£ Combine Cucumber + Selenium + Sonar
mvn clean verify sonar:sonar ^
 -Dbrowser=EDGE ^
 -Dexecution=LOCAL ^
 -Dcucumber.filter.tags="@Regression" ^
 -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

âœ… 1ï¸âƒ£3ï¸âƒ£ Run Using Maven Profiles (Advanced)
mvn test -Psmoke


Profile example:

<profile>
  <id>smoke</id>
  <properties>
    <cucumber.filter.tags>@Smoke</cucumber.filter.tags>
  </properties>
</profile>

âœ… 1ï¸âƒ£4ï¸âƒ£ Run Only a Specific TestRunner
mvn test -Dtest=TestRunner


or

mvn verify -Dit.test=TestRunner

âœ… 1ï¸âƒ£5ï¸âƒ£ Skip Cucumber Tests (Sometimes Needed)
mvn test -DskipTests


or

-Dmaven.test.skip=true

ğŸš¨ Commands That Do NOT Work (Common Mistakes)

âŒ -Dcucumberfiltertags
âŒ -Dtags=@Smoke
âŒ -DcucumberTags=@Smoke
âŒ Hardcoded tags in @CucumberOptions (breaks CI flexibility)

ğŸ§  Interview One-Liner

â€œCucumber supports extensive Maven-driven execution via system properties, allowing dynamic control over tags, features, parallelism, plugins, and environments â€” making it CI/CD friendly.â€

ğŸ“Œ Quick Reference (Bookmark This)
Purpose	Command
Run by tag	-Dcucumber.filter.tags="@Smoke"
Run by feature	-Dcucumber.features=path
Dry run	-Dcucumber.execution.dry-run=true
Parallel	-Dcucumber.execution.parallel.enabled=true
Fail fast	-Dcucumber.execution.fail-fast=true
Scenario name	-Dcucumber.filter.name="Login"

If you want next:
ğŸ”¥ Real Jenkins pipelines using these commands
ğŸ”¥ Tag strategy for enterprise projects
ğŸ”¥ Parallel + Grid + Cucumber
ğŸ”¥ Cucumber with API + UI combined